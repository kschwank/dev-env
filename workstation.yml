---

- name: group by OS distribution
  hosts: all
  tasks:
    - group_by:
        key: "{{ ansible_distribution|lower }}"
    - debug:
        msg: found OS distribution {{ ansible_distribution|lower }}

- name: install workstation
  hosts: all
  gather_facts: true
  become: yes
  become_user: root
  roles:
    - common
    - git
    - bash
    - executables
    - docker
    - tmux
    - vim
    - gnome
    - onedrive
  vars_prompt:
    - name: password
      prompt: "Enter the password to set for your user (omit to keep it)"
      confirm: yes
      private: yes

